run_name: "qwen2.5_vl_3B_htromance"
output_dir: "results"
device: "cuda"
use_wandb: true
wandb_project: "HTR-comparison" 

data:
  train: "../data/HTRomance-french/data/train"
  valid: "../data/HTRomance-french/data/valid"
  test: "../data/HTRomance-french/data/test"

tasks:
  htr:
    type: VLMHTR
    config:
      model_name: "Qwen/Qwen2.5-VL-3B-Instruct"
      max_new_tokens: 700    
      batch_size: 10
      use_4bit: false
      lora_r: 16
      lora_dropout: 0
      max_seq_length: 4096
      train_batch_size: 4
      gradient_accumulation_steps: 2
      warmup_ratio: 0.1
      epochs: 5
      learning_rate: 0.0001
      weight_decay: 0.01
      dataset_num_proc: 4
      prompt: > 
        You are a paleographer specializing in french medieval languages
        Follow these instructions:

        1. You will be provided with a scanned document page.

        2. Perform transcription on the main text from this image, line by line, from top to bottom.

        3. If you encounter any non-text elements, simply skip them without attempting to describe them.

        4. Do not modernize or standardize the text. For example, if the transcription is using "ſ" instead of "s" or "а" instead of "a", keep it that way.

        5. When you come across text in languages other than English, transcribe it as accurately as possible without translation.

        6. Do not include any other words or separator in your response.

        Remember, your goal is to accurately transcribe the text from the scanned page as much as possible. Process the entire page, even if it contains a large amount of text, and provide clear, well-formatted output. Pay attention to the appropriate reading order and layout of the text.
     